---
title: Butterfly Config
date: 2024.01.25
updated: 2024.01.26
tags: åšå®¢
categories: åšå®¢
cover: https://lulu-dt-images.oss-cn-chengdu.aliyuncs.com/images/journey/1.jpg
highlight_shrink: false
toc: true
toc_number: true
toc_style_simple: true
mathjax: false
katex: false
---

# linuxç¯å¢ƒæ­å»ºï¼ˆUbuntuï¼‰

# ç›®å½•

> ğŸ“š ç´¢å¼•
>
> ğŸš€ [å®‰è£…git](#1) - ğŸš€[å®‰è£…zsh](#2)  - ğŸš€  [å¸¸ç”¨å·¥å…·](#3) - ğŸš€ [condaå®‰è£…](#conda)  - ğŸš€  [c++ç¯å¢ƒæ­å»º](#c++)

## <a name="1">å®‰è£…git</a>

### å®‰è£…

```bash
git --version  # æŸ¥çœ‹gitç‰ˆæœ¬ï¼Œ å¦‚æœæœ‰gitå°±ä¸ç”¨å®‰è£…äº†ï¼Œ è·³è¿‡ä¸‹é¢æ­¥éª¤

sudo apt-get install git # éœ€è¦sudoæƒé™
```

### é…ç½®

```bash
# é…ç½®git
git config --global  user.name "å¼ ä¸‰"
git config --global  user.email "email@sian.com"
```

### ç”Ÿæˆå¯†é’¥

è¾“å®Œä¹‹åä¸€ç›´æ•²å›è½¦å³å¯

```bash
ssh-keygen -t rsa
```

### æ·»åŠ å¯†é’¥åˆ°github/gitee

æŸ¥çœ‹å¯†é’¥ï¼Œå¤åˆ¶åˆ°å‰ªè´´æ¿

```bash
cat ~/.ssh/id_rsa.pub
# ssh-rsa *****************
```

#### github

ç‚¹å‡»å³ä¸Šè§’å¤´åƒï¼Œ è¿›å…¥settingç•Œé¢

![image-20231228140237626](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20231228140237626.png)

![image-20231228140402225](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20231228140402225.png)

![image-20231228140521664](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20231228140521664.png)

#### gitee

![image-20231228140623261](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20231228140623261.png)

![image-20231228140900748](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20231228140900748.png)

## <a name="2">å®‰è£…zsh</a>

> å¦‚æœä½ è¿˜ä¸çŸ¥é“ä»€ä¹ˆæ˜¯zshä»¥åŠä¸ºä»€ä¹ˆè¦ç”¨zshï¼Œ å¯ä»¥é˜…è¯»è¿™ç¯‡[æ–‡ç« ](https://zhuanlan.zhihu.com/p/63585679)

### å®‰è£…

```bash
which zsh   # æŸ¥çœ‹æ˜¯å¦æœ‰zshï¼Œ å¦‚æœæœ‰å°±ä¸ç”¨å®‰è£…äº†
sudo apt-get install zsh
```

### ä½¿ç”¨oh-my-zsh

```bash
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
```

### å®‰è£…æ’ä»¶

#### zsh-syntax-highlighting

> æä¾›è¯­æ³•é«˜äº®ï¼Œçˆ±æŠ¤çœ¼ç›é¦–é€‰

```bash
git clone https://gitee.com/lu-dingtao/zsh-syntax-highlighting.git ~/.oh-my-zsh/plugins/zsh-syntax-highlighting
```

#### zsh-autosuggestions

> è‡ªåŠ¨è¡¥å…¨ï¼Œ çˆ±æŠ¤æ‰‹æŒ‡é¦–é€‰ï¼Œæ•²tabé”®å³å¯

```bash
git clone https://gitee.com/lu-dingtao/zsh-autosuggestions.git  ~/.oh-my-zsh/plugins/zsh-autosuggestions
```

#### ä¿®æ”¹~/.zshrcæ’ä»¶é…ç½®

```bash
sed -i "s/plugins=.*/plugins=(git sudo zsh-autosuggestions zsh-syntax-highlighting conda-zsh-completion z sublime vscode)/g" ~/.zshrc
```

æˆ–è€…æ‰‹åŠ¨æ‰“å¼€~/.zshrcï¼Œ æ‰¾åˆ°pluginsè¿™ä¸€è¡Œæ›¿æ¢æ’ä»¶

```bash
vi ~/.zshrc
```

![image-20231228142506195](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20231228142506195.png)

#### å…¶å®ƒé…ç½®ï¼ˆçœ‹è‡ªå·±çš„ä½¿ç”¨ä¹ æƒ¯ï¼‰

> ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ‰“å¼€~/.zshrcè¿›è¡Œä¿®æ”¹

ä¿®æ”¹ä¸»é¢˜ä¸ºys

```bash
sed -i "s/ZSH_THEME=\".*/ZSH_THEME=\"ys\"/g" ~/.zshrc
```

æ·»åŠ ~/binåˆ°path

> PATHç”¨äºæŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„

```bash
sed -i '$a export PATH=~/bin:${PATH}' ~/.zshrc
```

è®¾ç½®æ—¶é—´æ˜¾ç¤ºæ ¼å¼

```bash
sed -i '$a HIST_STAMPS="yyyy-mm-dd"' ~/.zshrc
```

gitå¿«æ·é”®
- git status

```bash
sed -i '$a alias gst="git status"' ~/.zshrc
```

### ä½¿ç”¨å¿ƒå¾—

#### 1. tabé”®è¡¥å…¨

æ•²å‘½ä»¤çš„æ—¶å€™æŒ‰tabé”®å¯ä»¥è¡¥å…¨å‘½ä»¤ï¼Œ ç»§ç»­æŒ‰å¯ä»¥åˆ‡æ¢

`cd -`ï¼šåˆ‡æ¢è·¯å¾„

- ` cd -` + `tab`æŸ¥çœ‹å†å²è·¯å¾„

- `cd -` + `number` å¿«é€Ÿè·³è½¬è·¯å¾„ï¼Œ eg: `cd -2`

`->`ï¼šå†å²å‘½ä»¤è¡¥å…¨

â€‹	å¦‚æœä½ åœ¨æ•²å‘½ä»¤çš„æ—¶å€™å‘ç°åé¢å·²ç»æ˜¾ç¤ºå‡ºæ¥ä½ æƒ³è¦æ•²çš„å‘½ä»¤ï¼ŒæŒ‰`->`æ–¹å‘é”®ç›´æ¥è¡¥å…¨

`gst`ï¼šç­‰ä»·äº`git status`ï¼Œ å¿«é€ŸæŸ¥çœ‹ä»“åº“ status

## <a name="3">å·¥å…·ä¸‹è½½</a>

### htop

> topçš„è¿›é˜¶ç‰ˆï¼ŒæŸ¥çœ‹è¿›ç¨‹åŠèµ„æºä½¿ç”¨ï¼Œç±»ä¼¼äºwindowsçš„ä»»åŠ¡ç®¡ç†å™¨

```bash
sudo apt-get install htop
```

![image-20231228143449311](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20231228143449311.png)

### ncdu

> æŸ¥çœ‹å½“å‰è·¯å¾„å†…å­˜å ç”¨

```bash
sudo apt-get install ncdu
```

![image-20231228143413817](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20231228143413817.png)

## <a name="conda">condaå®‰è£…</a>

> condaç”¨äºé…ç½®pythonè™šæ‹Ÿç¯å¢ƒï¼Œ å¯ä»¥åœ¨ä¸€ä¸ªæœºå™¨ä¸Šæ‹¥æœ‰å¤šä¸ªç‰ˆæœ¬ä¸åŒé…ç½®çš„pythonï¼ˆå¾ˆå¤špythonåŒ…ä¸å…¼å®¹ï¼Œ å¦‚æœéƒ½å®‰è£…åˆ°ä¸€èµ·ä¼šå¾ˆå¤šé—®é¢˜ï¼‰

### ä¸‹è½½

```bash
cd /your/workspace # æ–°å»ºä¸€ä¸ªæ”¾ä¸‹è½½æ–‡ä»¶çš„åœ°æ–¹,å°†ä¸‹è½½çš„å®‰è£…åŒ…æ”¾è¿›å»
wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/Miniconda3-latest-Linux-x86_64.sh
```

### å®‰è£…

ä¸€è·¯yesåŠ å›è½¦å³å¯

```bash
bash Miniconda3-latest-Linux-x86_64.sh
```

é…ç½®bashrcæˆ–è€…zshrc

å°†ä¸‹åˆ—ä»£ç åŠ åˆ°\~/.zshrcå’Œ\~/.zshrcåé¢ï¼Œ ç„¶åé‡æ–°æ‰§è¡Œzshæˆ–è€…bash

```shell
# >>> conda initialize >>>
# !! Contents within this block are managed by 'conda init' !!
__conda_setup="$('/root/miniconda3/bin/conda' 'shell.bash' 'hook' 2> /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    if [ -f "/root/miniconda3/etc/profile.d/conda.sh" ]; then
        . "/root/miniconda3/etc/profile.d/conda.sh"
    else
        export PATH="/root/miniconda3/bin:$PATH"
    fi
fi
unset __conda_setup
# <<< conda initialize <<<
```

### é…ç½®ï¼ˆæ¸…åé•œåƒï¼‰

```bash
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/
conda config --set show_channel_urls yes
```

### æ–°å»ºè™šæ‹Ÿç¯å¢ƒ

æ–°å»ºä¸€ä¸ªåå­—å«myenvçš„è™šæ‹Ÿç¯å¢ƒ

```shell
conda create --name myenv
```

## <a name="c++">C++ç¯å¢ƒæ­å»º</a>

TODO:

```bash
sudo apt-get install gdb gcc g++ make cmake cgdb
```

## vscode ç¯å¢ƒæ­å»º

### Vscode è¿œç¨‹è¿æ¥æœåŠ¡å™¨

#### å®‰è£…æ’ä»¶

æ‰¾åˆ°æ’ä»¶å¸‚åœºï¼Œ æœç´¢sshï¼Œ ä¸‹è½½ç¬¬ä¸€ä¸ª

![image-20240110154725230](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20240110154725230.png)

#### è¿œç¨‹è¿æ¥æœåŠ¡å™¨

ä¾æ¬¡ç‚¹å‡»ï¼Œ é€‰æ‹©ç¬¬ä¸€ä¸ª

![image-20240110154854984](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20240110154854984.png)

#### è¾“å…¥é…ç½®ä¿¡æ¯

```shell
Host åä¸ºäº‘  # åˆ«å
    HostName 110.41.183.160  # æœåŠ¡å™¨ipåœ°å€
    User root  # è´¦æˆ·åç§°
```

è¾“å…¥å®Œæˆåä¿å­˜åˆ·æ–°ä¸€ä¸‹

![image-20240110155113978](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20240110155113978.png)

#### è¿æ¥



### clangd

#### ä»‹ç»

> clangdç”¨äºæä¾›c++ã€cä»£ç è¡¥å…¨ï¼Œè·³è½¬ï¼Œæ ¼å¼åŒ–ç­‰åŠŸèƒ½

#### å®‰è£…

```bash
which clangd # è€è§„çŸ©ï¼Œçœ‹ä¸€ä¸‹è£…äº†æ²¡æœ‰ï¼Œ æ²¡æœ‰å°±å®‰è£…ä¸€ä¸ª
sudo apt-get install clangd
```

#### å®‰è£…vscode clangdæ’ä»¶

> åœ¨sshè¿æ¥ä¸ŠæœåŠ¡å™¨åå®‰è£…ï¼Œå¦åˆ™æ— æ³•å°†æ’ä»¶è£…åˆ°æœåŠ¡å™¨ä¸Š

![image-20240111170142919](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20240111170142919.png)

#### é…ç½®vscode

cmakeåŠ é€‰é¡¹ `-DCMAKE_EXPORT_COMPILE_COMMANDS=1`

## äº‘æœåŠ¡å™¨ç§‘å­¦ä¸Šç½‘

[äº‘æœåŠ¡å™¨Linux+Clashç§‘å­¦ä¸Šç½‘ | YuYoung's Blog (yuyoung32.com)](https://www.yuyoung32.com/post/linux+clashç§‘å­¦ä¸Šç½‘/)

### ä¸‹è½½clash for linux

```shell
wget https://github.com/lulu-DT/Source/raw/main/linux/clash_2.0.24_linux_amd64.tar.gz
```

### è§£å‹å®‰è£…

```shell
tar -xvf clash_2.0.24_linux_amd64.tar.gz
sudo cp clash /usr/local/bin/clash
sudo chmox +x /usr/local/bin/clash
```

### æ·»åŠ é…ç½®æ–‡ä»¶

é…ç½®æ–‡ä»¶è·¯å¾„ä¸º`~/.config/clash`

å¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶åˆ™æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ª

```shell
mkdir ~/.config/clash
```

- æ·»åŠ config.yaml

![image-20240123120035764](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20240123120035764.png)

![image-20240123120111730](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20240123120111730.png)

å°†ä¸Šè¿°æ–‡ä»¶ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨çš„`~/.config/clash`è·¯å¾„ä¸‹å¹¶é‡å‘½åä¸ºconfig.yaml

- æ·»åŠ Country.mmdbï¼ˆæ”¾åˆ°`~/.config/clash`ï¼‰

```shell
wget https://github.com/Dreamacro/maxmind-geoip/releases/download/20240112/Country.mmdb
```

### æ·»åŠ ä¸ºå¼€æœºè‡ªå¯å’Œåå°è¿è¡Œ

```shell
sudo vim /etc/systemd/system/clash.service

#å†™å…¥ä»¥ä¸‹å†…å®¹
[Unit]
Description=Clash daemon, A rule-based proxy in Go.
After=network.target

[Service]
Type=simple
Restart=always
ExecStart=/usr/local/bin/clash -d /etc/clash

[Install]
WantedBy=multi-user.target
```

```shell
# è®¾ç½®å¼€æœºè‡ªå¯
sudo systemctl enable clash

# è¿è¡Œclash
sudo systemctl start clash

# æŸ¥çœ‹clashçŠ¶æ€
sudo systemctl status clash
```

### å¯ç”¨ä»£ç†

åœ¨`~/.bashrc`æˆ–è€…`~/.zshrc`åé¢å†™å…¥ä»¥ä¸‹å†…å®¹

```shell
proxy_on() {
    export https_proxy=http://127.0.0.1:7890
    export http_proxy=http://127.0.0.1:7890
    export all_proxy=socks5://127.0.0.1:7890

    echo "Proxy is ON. Environment variables:"
    echo "https_proxy=$https_proxy"
    echo "http_proxy=$http_proxy"
    echo "all_proxy=$all_proxy"
}

proxy_off() {
    unset https_proxy
    unset http_proxy

    echo "Proxy is OFF. Environment variables unset."
}
```

```shell
# é‡æ–°sourceè„šæœ¬ï¼Œ å–å†³äºä½ ç”¨çš„æ˜¯bashè¿˜æ˜¯zsh
source ~/.zshrc
source ~/.bashrc
```

proxy_onå¼€å¯ä»£ç†

![image-20240123120941819](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20240123120941819.png)

proxy_offå…³é—­ä»£ç†

![image-20240123121001379](C:/Users/admin/AppData/Roaming/Typora/typora-user-images/image-20240123121001379.png)
